<div *ngIf="!isLoading">
  <div *ngIf="addressList.length < 3" class="mb-2">
    <div class="btn-toolbar mb-2" role="toolbar">
      <div class="btn-group mr-2" role="group">
        <button type="button" class="btn btn-primary" (click)="openCreateAddressForm()">Create new Address</button>
      </div>
    </div>

    <table class="table table-striped" *ngIf="createFormOpen">
      <tbody>
      <tr>
        <td>
          <delivery-address-create [clientId]="clientId" (onSubmitForm)="saveAddress($event)"
                                   (onCloseForm)="closeForms($event)"></delivery-address-create>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <hr>
  <table class="table table-striped">
    <thead>
    <tr>
      <th scope="col">Zip Code</th>
      <th scope="col">Country</th>
      <th scope="col">City</th>
      <th scope="col">Street</th>
      <th scope="col">Default</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody *ngFor="let address of addressList; let i = index">
    <tr>
      <td>{{ address.getZipCode() }}</td>
      <td>{{ address.getCountry() }}</td>
      <td>{{ address.getCity() }}</td>
      <td>{{ address.getStreet() }}</td>
      <td>{{ address.isDefault() ? 'Yes' : 'No' }}</td>
      <td>
        <div class="btn-toolbar" role="toolbar">
          <div class="btn-group mr-2" role="group" *ngIf="editAddressId !== address.getId()">
            <button type="button" class="btn btn-primary" (click)="openUpdateAddressForm(address)">Edit</button>
          </div>
          <div class="btn-group mr-2" role="group" *ngIf="editAddressId !== address.getId()">
            <button type="button" [disabled]="address.isDefault()" class="btn btn-danger"
                    (click)="deleteAddressById(address)">Delete
            </button>
          </div>
          <div class="btn-group" role="group" *ngIf="editAddressId !== address.getId()">
            <button type="button" [disabled]="address.isDefault()" class="btn btn-secondary"
                    (click)="setDefault(address.getId())">Set Default
            </button>
          </div>
          <div class="btn-group" role="group" *ngIf="editAddressId == address.getId()">
            <button type="button" class="btn btn-primary" (click)="closeForms()">Close</button>
          </div>
        </div>
      </td>
    </tr>
    <tr *ngIf="editAddressId == address.getId()">
      <td colspan="6">
        <delivery-address-edit [clientId]="clientId" [address]="address" (onSubmitForm)="saveAddress($event)"
                               (onCloseForm)="closeForms($event)"></delivery-address-edit>
      </td>
    </tr>
    </tbody>
  </table>
</div>


